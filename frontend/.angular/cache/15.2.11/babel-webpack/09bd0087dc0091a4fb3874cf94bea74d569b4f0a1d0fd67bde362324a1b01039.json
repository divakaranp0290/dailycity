{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/admin.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AdminUpdateComponent_p_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Data updated successfully\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminUpdateComponent_p_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Error updating data\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let AdminUpdateComponent = /*#__PURE__*/(() => {\n  class AdminUpdateComponent {\n    constructor(adminService) {\n      this.adminService = adminService;\n      this.city = 'chennai';\n      this.date = new Date().toISOString().split('T')[0];\n      this.power_cut = false;\n      this.water_issue = false;\n      this.traffic = 'moderate';\n      this.success = false;\n      this.error = false;\n      this.loading = false;\n    }\n    submit() {\n      this.loading = true;\n      this.success = false;\n      this.error = false;\n      const payload = {\n        city: this.city.toLowerCase().trim(),\n        date: this.date,\n        power_cut: this.power_cut,\n        water_issue: this.water_issue,\n        traffic: this.traffic,\n        petrol: this.petrol,\n        diesel: this.diesel,\n        gold_22k: this.gold_22k,\n        silver: this.silver\n      };\n      this.adminService.updateCityToday(payload).subscribe({\n        next: () => {\n          this.success = true;\n          this.loading = false;\n        },\n        error: () => {\n          this.error = true;\n          this.loading = false;\n        }\n      });\n    }\n    static {\n      this.ɵfac = function AdminUpdateComponent_Factory(t) {\n        return new (t || AdminUpdateComponent)(i0.ɵɵdirectiveInject(i1.AdminService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AdminUpdateComponent,\n        selectors: [[\"app-admin-update\"]],\n        decls: 46,\n        vars: 13,\n        consts: [[3, \"ngSubmit\"], [\"name\", \"city\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"chennai\"], [\"value\", \"bangalore\"], [\"value\", \"coimbatore\"], [\"type\", \"date\", \"name\", \"date\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", \"name\", \"power_cut\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", \"name\", \"water_issue\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"traffic\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"clear\"], [\"value\", \"moderate\"], [\"value\", \"heavy\"], [\"type\", \"number\", \"name\", \"petrol\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"diesel\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"gold_22k\", \"min\", \"0\", \"step\", \"0.01\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"silver\", \"min\", \"0\", \"step\", \"0.01\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 3, \"disabled\"], [4, \"ngIf\"]],\n        template: function AdminUpdateComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"h1\");\n            i0.ɵɵtext(1, \"Admin \\u2013 Update City Today\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(2, \"form\", 0);\n            i0.ɵɵlistener(\"ngSubmit\", function AdminUpdateComponent_Template_form_ngSubmit_2_listener() {\n              return ctx.submit();\n            });\n            i0.ɵɵelementStart(3, \"label\");\n            i0.ɵɵtext(4, \"City\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"select\", 1);\n            i0.ɵɵlistener(\"ngModelChange\", function AdminUpdateComponent_Template_select_ngModelChange_5_listener($event) {\n              return ctx.city = $event;\n            });\n            i0.ɵɵelementStart(6, \"option\", 2);\n            i0.ɵɵtext(7, \"Chennai\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"option\", 3);\n            i0.ɵɵtext(9, \"Bangalore\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"option\", 4);\n            i0.ɵɵtext(11, \"Coimbatore\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"label\");\n            i0.ɵɵtext(13, \"Date\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"input\", 5);\n            i0.ɵɵlistener(\"ngModelChange\", function AdminUpdateComponent_Template_input_ngModelChange_14_listener($event) {\n              return ctx.date = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"label\")(16, \"input\", 6);\n            i0.ɵɵlistener(\"ngModelChange\", function AdminUpdateComponent_Template_input_ngModelChange_16_listener($event) {\n              return ctx.power_cut = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(17, \" Power Cut \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"label\")(19, \"input\", 7);\n            i0.ɵɵlistener(\"ngModelChange\", function AdminUpdateComponent_Template_input_ngModelChange_19_listener($event) {\n              return ctx.water_issue = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(20, \" Water Issue \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"label\");\n            i0.ɵɵtext(22, \"Traffic\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"select\", 8);\n            i0.ɵɵlistener(\"ngModelChange\", function AdminUpdateComponent_Template_select_ngModelChange_23_listener($event) {\n              return ctx.traffic = $event;\n            });\n            i0.ɵɵelementStart(24, \"option\", 9);\n            i0.ɵɵtext(25, \"Clear\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"option\", 10);\n            i0.ɵɵtext(27, \"Moderate\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"option\", 11);\n            i0.ɵɵtext(29, \"Heavy\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(30, \"label\");\n            i0.ɵɵtext(31, \"Petrol Price\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"input\", 12);\n            i0.ɵɵlistener(\"ngModelChange\", function AdminUpdateComponent_Template_input_ngModelChange_32_listener($event) {\n              return ctx.petrol = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(33, \"label\");\n            i0.ɵɵtext(34, \"Diesel Price\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(35, \"input\", 13);\n            i0.ɵɵlistener(\"ngModelChange\", function AdminUpdateComponent_Template_input_ngModelChange_35_listener($event) {\n              return ctx.diesel = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"label\");\n            i0.ɵɵtext(37, \"Gold 22K (\\u20B9)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(38, \"input\", 14);\n            i0.ɵɵlistener(\"ngModelChange\", function AdminUpdateComponent_Template_input_ngModelChange_38_listener($event) {\n              return ctx.gold_22k = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(39, \"label\");\n            i0.ɵɵtext(40, \"Silver (\\u20B9)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"input\", 15);\n            i0.ɵɵlistener(\"ngModelChange\", function AdminUpdateComponent_Template_input_ngModelChange_41_listener($event) {\n              return ctx.silver = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(42, \"button\", 16);\n            i0.ɵɵtext(43);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(44, AdminUpdateComponent_p_44_Template, 2, 0, \"p\", 17);\n            i0.ɵɵtemplate(45, AdminUpdateComponent_p_45_Template, 2, 0, \"p\", 17);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngModel\", ctx.city);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngModel\", ctx.date);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngModel\", ctx.power_cut);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngModel\", ctx.water_issue);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.traffic);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngModel\", ctx.petrol);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngModel\", ctx.diesel);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngModel\", ctx.gold_22k);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngModel\", ctx.silver);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"disabled\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Saving...\" : \"Save Today Data\", \" \");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.success);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n          }\n        },\n        dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.CheckboxControlValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.MinValidator, i3.NgModel, i3.NgForm],\n        styles: [\"form[_ngcontent-%COMP%]{max-width:400px}label[_ngcontent-%COMP%]{display:block;margin-top:12px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;margin-top:4px}\\n/*# sourceMappingURL=admin-update.component.css.map*/\"]\n      });\n    }\n  }\n  return AdminUpdateComponent;\n})();","map":{"version":3,"mappings":"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","names":["i0","AdminUpdateComponent","constructor","adminService","Date","toISOString","split","submit","loading","success","error","payload","city","toLowerCase","trim","date","power_cut","water_issue","traffic","petrol","diesel","gold_22k","silver","updateCityToday","subscribe","next","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/Projects/dailycity/frontend/src/app/admin-update/admin-update.component.html","/Users/Projects/dailycity/frontend/src/app/admin-update/admin-update.component.ts"],"sourcesContent":["<h1>Admin – Update City Today</h1>\n\n<form (ngSubmit)=\"submit()\">\n\n    <label>City</label>\n    <select [(ngModel)]=\"city\" name=\"city\">\n        <option value=\"chennai\">Chennai</option>\n        <option value=\"bangalore\">Bangalore</option>\n        <option value=\"coimbatore\">Coimbatore</option>\n    </select>\n\n    <label>Date</label>\n    <input type=\"date\" [(ngModel)]=\"date\" name=\"date\">\n\n    <label>\n        <input type=\"checkbox\" [(ngModel)]=\"power_cut\" name=\"power_cut\">\n        Power Cut\n    </label>\n\n    <label>\n        <input type=\"checkbox\" [(ngModel)]=\"water_issue\" name=\"water_issue\">\n        Water Issue\n    </label>\n\n    <label>Traffic</label>\n    <select [(ngModel)]=\"traffic\" name=\"traffic\">\n        <option value=\"clear\">Clear</option>\n        <option value=\"moderate\">Moderate</option>\n        <option value=\"heavy\">Heavy</option>\n    </select>\n\n    <label>Petrol Price</label>\n    <input type=\"number\" [(ngModel)]=\"petrol\" name=\"petrol\">\n\n    <label>Diesel Price</label>\n    <input type=\"number\" [(ngModel)]=\"diesel\" name=\"diesel\">\n\n    <label>Gold 22K (₹)</label>\n    <input type=\"number\" [(ngModel)]=\"gold_22k\" name=\"gold_22k\" min=\"0\" step=\"0.01\">\n\n    <label>Silver (₹)</label>\n    <input type=\"number\" [(ngModel)]=\"silver\" name=\"silver\" min=\"0\" step=\"0.01\">\n\n\n    <button type=\"submit\" [disabled]=\"loading\">\n        {{ loading ? 'Saving...' : 'Save Today Data' }}\n    </button>\n\n</form>\n\n<p *ngIf=\"success\">Data updated successfully</p>\n<p *ngIf=\"error\">Error updating data</p>","import { Component } from '@angular/core';\nimport { AdminService } from '../services/admin.service';\n\n\n@Component({\n  selector: 'app-admin-update',\n  templateUrl: './admin-update.component.html',\n  styleUrls: ['./admin-update.component.css']\n})\nexport class AdminUpdateComponent {\n\n  city = 'chennai';\n  date = new Date().toISOString().split('T')[0];\n\n  power_cut = false;\n  water_issue = false;\n  traffic = 'moderate';\n\n  petrol!: number;\n  diesel!: number;\n  gold_22k!: number;\n  silver!: number;\n\n  success = false;\n  error = false;\n  loading = false;\n\n  constructor(private adminService: AdminService) {}\n\n  submit() {\n    this.loading = true;\n    this.success = false;\n    this.error = false;\n\n    const payload = {\n      city: this.city.toLowerCase().trim(),\n      date: this.date,\n      power_cut: this.power_cut,\n      water_issue: this.water_issue,\n      traffic: this.traffic,\n      petrol: this.petrol,\n      diesel: this.diesel,\n      gold_22k: this.gold_22k,\n      silver: this.silver\n    };\n\n    this.adminService.updateCityToday(payload).subscribe({\n      next: () => {\n        this.success = true;\n        this.loading = false;\n      },\n      error: () => {\n        this.error = true;\n        this.loading = false;\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}